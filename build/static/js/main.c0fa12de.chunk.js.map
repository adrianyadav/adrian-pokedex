{"version":3,"sources":["App.js","index.js"],"names":["App","useState","randomPokemon","setRandomPokemon","favoritePokemons","setFavouritePokemons","refreshScreen","setRefreshScreen","localStorageKey","useEffect","store","deleteFav","e","favPokemons","name","target","getAttribute","filter","pokemon","className","onClick","preventDefault","url","Math","floor","random","axios","get","then","id","data","sprite","sprites","front_default","alt","loading","src","temp","console","log","some","alert","push","class","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNAqKeA,MAhKf,WAAgB,IAAD,EAC6BC,mBAAS,MADtC,mBACNC,EADM,KACSC,EADT,OAEoCF,mBAAS,MAF7C,mBAENG,EAFM,KAEYC,EAFZ,OAG6BJ,oBAAS,GAHtC,mBAGNK,EAHM,KAGSC,EAHT,KAKPC,EAAkB,aAoDxBC,qBAAU,WACRJ,EAAqBK,MAAUF,MAC9B,CAACF,IAEJ,IASMK,EAAY,SAACC,GACjB,IAAIC,EAAcH,MAAUF,GAEtBM,EAAOF,EAAEG,OAAOC,aAAa,QAEnCH,EAAeT,EAAiBa,QAAO,SAAAC,GAAO,OAAIA,EAAQJ,OAASA,KAEnEJ,MAAUF,EAAiBK,GAC3BN,GAAkBD,IAKpB,OACE,gCACE,wBAAQa,UAAU,SAAlB,SACE,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,kBAAd,kCAGA,mBAAGA,UAAU,eAAb,uFAGA,wBAAQA,UAAU,cAAcC,QAlFf,SAACR,GACxBA,EAAES,iBAEF,IACMC,EAXe,qCAUAC,KAAKC,MALJ,IAKUD,KAAKE,UAGrCC,IAAMC,IAAIL,GAAKM,MAAK,SAACV,GACnBf,EAAiB,CACf0B,GAAIX,EAAQY,KAAKD,GACjBf,KAAMI,EAAQY,KAAKhB,KACnBiB,OAAQb,EAAQY,KAAKE,QAAQC,oBAwE3B,qCAGJ,yBAASd,UAAU,UAAnB,SACE,qBAAKA,UAAU,gBAAf,SACGjB,GACC,sBAAKiB,UAAU,OAAf,UACE,oBAAIA,UAAU,0DAAd,qCACA,sBAAKA,UAAU,kBAAf,UACE,yBAAQA,UAAU,cAAlB,UACE,kCACE,qBACEe,IAAKhC,EAAcY,KAAMK,UAAU,YACnCgB,QAAQ,OACRC,IAAKlC,EAAc6B,WAIvB,4BAAYZ,UAAU,mCAAtB,SACGjB,EAAcY,UAGnB,wBAAQK,UAAU,2BAA2BC,QAzFzC,SAACR,GAGjB,GAFAA,EAAES,iBAEEnB,EAAe,CAEjB,IAAImC,EAAO3B,MAAUF,GACrB8B,QAAQC,IAAIF,GAGA,MAARA,EAEGA,EAAKG,MAAK,SAACtB,GAAD,OAAaA,EAAQW,KAAO3B,EAAc2B,MAKvDY,MAAM,gDAHNJ,EAAKK,KAAKxC,GACVQ,MAAUF,EAAiB6B,MAM7BA,EAAO,IACFK,KAAKxC,GACVQ,MAAUF,EAAiB6B,IAK7B9B,GAAkBD,KA8DR,2CAQV,yBAASa,UAAU,4BAAnB,SACE,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,2DAAd,uBACA,qBAAKwB,MAAM,QAAX,SAEIvC,GACAA,EAAiBwC,KAAI,SAAC1B,GAAD,OACnB,qBAAsBC,UAAU,2CAAhC,SACE,sBAAKA,UAAU,kBAAf,UACE,yBAAQA,UAAU,cAAlB,UACE,kCACE,qBACEe,IAAKhB,EAAQJ,KAAMK,UAAU,YAC7BgB,QAAQ,OACRC,IAAKlB,EAAQa,WAIjB,4BAAYZ,UAAU,kCAAtB,SACGD,EAAQJ,UAGb,wBAAQA,KAAMI,EAAQJ,KAAMK,UAAU,2BAA2BC,QAAST,EAA1E,kCAfMO,EAAQW,SAsBxB,wBAAQV,UAAU,2BAA2BC,QA3FnC,WAChBV,aACA+B,MAAM,wCAINlC,GAAkBD,IAqFZ,sCCzJVuC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c0fa12de.chunk.js","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport * as store from 'store';\nimport './sass/App.scss';\n\nfunction App() {\n  const [randomPokemon, setRandomPokemon] = useState(null);\n  const [favoritePokemons, setFavouritePokemons] = useState(null);\n  const [refreshScreen, setRefreshScreen] = useState(false);\n  const pokemonBaseUrl = 'https://pokeapi.co/api/v2/pokemon/';\n  const localStorageKey = 'favourites';\n\n  // Max count from documentation\n  // https://pokeapi.co/api/v2/pokemon\n  const maxPokemonCount = 898;\n\n  const getRandomPokemon = (e) => {\n    e.preventDefault();\n\n    const randomNumber = Math.floor(Math.random() * maxPokemonCount);\n    const url = pokemonBaseUrl + randomNumber;\n\n    axios.get(url).then((pokemon) => {\n      setRandomPokemon({\n        id: pokemon.data.id,\n        name: pokemon.data.name,\n        sprite: pokemon.data.sprites.front_default,\n      });\n    });\n  };\n\n  const saveToFav = (e) => {\n    e.preventDefault();\n\n    if (randomPokemon) {\n      // get data from local storage\n      let temp = store.get(localStorageKey);\n      console.log(temp);\n\n      // if we have pokemons already saved\n      if (temp != null) {\n        // if randomly selected pokemon is not included on the list of pokemons in local storage\n        if (!temp.some((pokemon) => pokemon.id === randomPokemon.id)) {\n          // store the new array (temp) of pokemons to local storage\n          temp.push(randomPokemon);\n          store.set(localStorageKey, temp);\n        } else {\n          alert(\"This pokemon is already in your favourites!\");\n        }\n      } else {\n        // no saved pokemon, create the array and save\n        temp = [];\n        temp.push(randomPokemon);\n        store.set(localStorageKey, temp);\n      }\n\n      // Screen refresher because favourites are added on localstorage,\n      // it doesn't cause the component to reload so force reload it\n      setRefreshScreen(!refreshScreen);\n    }\n  };\n\n  useEffect(() => {\n    setFavouritePokemons(store.get(localStorageKey));\n  }, [refreshScreen]);\n\n  const clearFavs = () => {\n    store.clearAll();\n    alert(\"Deleted all your favourite pokemons.\");\n\n    // Screen refresher because favorites are added on localstorage,\n    // it doesn't cause the component to reload so force reload it\n    setRefreshScreen(!refreshScreen);\n  };\n\n  const deleteFav = (e) => {\n    let favPokemons = store.get(localStorageKey);\n    // get the name of the pokemon we wanwt to delete\n    const name = e.target.getAttribute(\"name\");\n    // delete the pokemon from the array\n    favPokemons = (favoritePokemons.filter(pokemon => pokemon.name !== name));\n    // resave the new list to the state\n    store.set(localStorageKey, favPokemons);\n    setRefreshScreen(!refreshScreen);\n  };\n\n  \n\n  return (\n    <div>\n      <header className=\"header\">\n        <div className=\"header__text-box\">\n          <h1 className=\"heading-primary\">\n            Adrian's Pokedex App\n          </h1>\n          <p className=\"heading-text\">\n            You can use this to look at some random pokemon and save your favourites!\n          </p>\n          <button className=\"btn btn--lg\" onClick={getRandomPokemon}>Get Random Pokemon</button>\n        </div>\n      </header>\n      <section className=\"section\">\n        <div className=\"u-center-text\">\n          {randomPokemon && (\n            <div className=\"card\">\n              <h2 className=\"heading-tertiary u-center-margin u-margin-bottom-medium\">Your random pokemon is:</h2>\n              <div className=\"card__container\">\n                <figure className=\"card__shape\">\n                  <picture>\n                    <img\n                      alt={randomPokemon.name} className=\"card__img\"\n                      loading=\"lazy\"\n                      src={randomPokemon.sprite}\n                    />\n                  </picture>\n\n                  <figcaption className=\"heading-secondary  card__caption\">\n                    {randomPokemon.name}\n                  </figcaption>\n                </figure>\n                <button className=\"btn btn--reverse btn--lg\" onClick={saveToFav}>Save to favourites!</button>\n              </div>\n            </div>\n          )\n          }\n        </div>\n      </section>\n\n      <section className=\"section section-favourite\">\n        <div className=\"u-center-text\">\n          <h2 className=\"heading-secondary u-center-margin u-margin-bottom-medium\">Favorites</h2>\n          <div class=\"cards\">\n            {\n              favoritePokemons &&\n              favoritePokemons.map((pokemon) => (\n                <div key={pokemon.id} className=\"card card--single u-margin-bottom-medium\">\n                  <div className=\"card__container\">\n                    <figure className=\"card__shape\">\n                      <picture>\n                        <img\n                          alt={pokemon.name} className=\"card__img\"\n                          loading=\"lazy\"\n                          src={pokemon.sprite}\n                        />\n                      </picture>\n\n                      <figcaption className=\"heading-tertiary  card__caption\">\n                        {pokemon.name}\n                      </figcaption>\n                    </figure>\n                    <button name={pokemon.name} className=\"btn btn--reverse btn--lg\" onClick={deleteFav}>Delete favourite</button>\n                  </div>\n                </div>\n              ))\n            }\n         \n          </div>\n          <button className=\"btn btn--reverse btn--lg\" onClick={clearFavs}>Clear Favorites</button>\n        </div>\n      </section>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}