{"ast":null,"code":"import _slicedToArray from\"/Users/adrianyadav/Personal/pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import{useEffect,useState}from'react';import*as store from'store';import'./sass/App.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),randomPokemon=_useState2[0],setRandomPokemon=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),favoritePokemons=_useState4[0],setFavoritePokemons=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),refreshScreen=_useState6[0],setRefreshScreen=_useState6[1];var pokemonBaseUrl='https://pokeapi.co/api/v2/pokemon/';var localStorageKey='favorites';// Max count from documentation\n// https://pokeapi.co/api/v2/pokemon\nvar maxPokemonCount=898;var getRandomPokemon=function getRandomPokemon(e){e.preventDefault();var randomNumber=Math.floor(Math.random()*maxPokemonCount);var url=pokemonBaseUrl+randomNumber;axios.get(url).then(function(pokemon){setRandomPokemon({id:pokemon.data.id,name:pokemon.data.name,sprite:pokemon.data.sprites.front_default});});};var saveToFav=function saveToFav(e){e.preventDefault();if(randomPokemon){var temp=store.get(localStorageKey);if(temp!=null){if(!temp.some(function(pokemon){return pokemon.id===randomPokemon.id;})){temp.push(randomPokemon);store.set(localStorageKey,temp);}}else{temp=[];temp.push(randomPokemon);store.set(localStorageKey,temp);}// Screen refresher because favorites are added on localstorage,\n// it doesn't cause the component to reload so force reload it\nsetRefreshScreen(!refreshScreen);}};useEffect(function(){setFavoritePokemons(store.get(localStorageKey));},[refreshScreen]);var clearFavs=function clearFavs(){store.clearAll();// Screen refresher because favorites are added on localstorage,\n// it doesn't cause the component to reload so force reload it\nsetRefreshScreen(!refreshScreen);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header__text-box\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading-primary\",children:\"Adrian's Pokedex App\"}),/*#__PURE__*/_jsx(\"p\",{className:\"heading-text\",children:\"You can use this to look at some random pokemon and save your favourites!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--lg\",onClick:getRandomPokemon,children:\"Get Random Pokemon\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"u-center-text\",children:randomPokemon&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading-tertiary u-center-margin u-margin-bottom-medium\",children:\"Your random pokemon is:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card__container\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"card__shape\",children:[/*#__PURE__*/_jsx(\"picture\",{children:/*#__PURE__*/_jsx(\"img\",{alt:randomPokemon.name,className:\"card__img\",loading:\"lazy\",src:randomPokemon.sprite})}),/*#__PURE__*/_jsx(\"figcaption\",{className:\"heading-tertiary  card__caption\",children:randomPokemon.name}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--reverse btn--lg\",onClick:saveToFav,children:\"Save to favourites!\"})]})})]})})}),/*#__PURE__*/_jsx(\"section\",{className:\"section section-favourite\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"u-center-text\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading-secondary u-center-margin u-margin-bottom-medium\",children:\"Favorites\"}),favoritePokemons&&favoritePokemons.map(function(pokemon){return/*#__PURE__*/_jsx(\"div\",{className:\"card u-margin-bottom-medium\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card__container\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"card__shape\",children:[/*#__PURE__*/_jsx(\"picture\",{children:/*#__PURE__*/_jsx(\"img\",{alt:pokemon.name,className:\"card__img\",loading:\"lazy\",src:pokemon.sprite})}),/*#__PURE__*/_jsx(\"figcaption\",{className:\"heading-tertiary  card__caption\",children:pokemon.name})]})})},pokemon.id);}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--reverse btn--lg\",onClick:clearFavs,children:\"Clear Favorites\"})]})})]});}export default App;","map":{"version":3,"sources":["/Users/adrianyadav/Personal/pokedex/src/App.js"],"names":["axios","useEffect","useState","store","App","randomPokemon","setRandomPokemon","favoritePokemons","setFavoritePokemons","refreshScreen","setRefreshScreen","pokemonBaseUrl","localStorageKey","maxPokemonCount","getRandomPokemon","e","preventDefault","randomNumber","Math","floor","random","url","get","then","pokemon","id","data","name","sprite","sprites","front_default","saveToFav","temp","some","push","set","clearFavs","clearAll","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport * as store from 'store';\nimport './sass/App.scss';\n\nfunction App() {\n  const [randomPokemon, setRandomPokemon] = useState(null);\n  const [favoritePokemons, setFavoritePokemons] = useState(null);\n  const [refreshScreen, setRefreshScreen] = useState(false);\n  const pokemonBaseUrl = 'https://pokeapi.co/api/v2/pokemon/';\n  const localStorageKey = 'favorites';\n\n  // Max count from documentation\n  // https://pokeapi.co/api/v2/pokemon\n  const maxPokemonCount = 898;\n\n  const getRandomPokemon = (e) => {\n    e.preventDefault();\n\n    const randomNumber = Math.floor(Math.random() * maxPokemonCount);\n\n    const url = pokemonBaseUrl + randomNumber;\n\n    axios.get(url).then((pokemon) => {\n      setRandomPokemon({\n        id: pokemon.data.id,\n        name: pokemon.data.name,\n        sprite: pokemon.data.sprites.front_default,\n      });\n    });\n  };\n\n  const saveToFav = (e) => {\n    e.preventDefault();\n\n    if (randomPokemon) {\n      let temp = store.get(localStorageKey);\n\n      if (temp != null) {\n        if (!temp.some((pokemon) => pokemon.id === randomPokemon.id)) {\n          temp.push(randomPokemon);\n          store.set(localStorageKey, temp);\n        }\n      } else {\n        temp = [];\n        temp.push(randomPokemon);\n        store.set(localStorageKey, temp);\n      }\n\n      // Screen refresher because favorites are added on localstorage,\n      // it doesn't cause the component to reload so force reload it\n      setRefreshScreen(!refreshScreen);\n    }\n  };\n\n  useEffect(() => {\n    setFavoritePokemons(store.get(localStorageKey));\n  }, [refreshScreen]);\n\n  const clearFavs = () => {\n    store.clearAll();\n\n    // Screen refresher because favorites are added on localstorage,\n    // it doesn't cause the component to reload so force reload it\n    setRefreshScreen(!refreshScreen);\n  };\n\n  return (\n    <div>\n      <header className=\"header\">\n        <div className=\"header__text-box\">\n          <h1 className=\"heading-primary\">\n            Adrian's Pokedex App\n          </h1>\n          <p className=\"heading-text\">\n            You can use this to look at some random pokemon and save your favourites!\n          </p>\n          <button className=\"btn btn--lg\" onClick={getRandomPokemon}>Get Random Pokemon</button>\n        </div>\n      </header>\n      <section className=\"section\">\n        <div className=\"u-center-text\">\n          {randomPokemon && (\n            <div className=\"card\">\n              <h2 className=\"heading-tertiary u-center-margin u-margin-bottom-medium\">Your random pokemon is:</h2>\n              <div className=\"card__container\">\n                <figure className=\"card__shape\">\n                  <picture>\n                    <img\n                      alt={randomPokemon.name} className=\"card__img\"\n                      loading=\"lazy\"\n                      src={randomPokemon.sprite}\n                    />\n                  </picture>\n\n                  <figcaption className=\"heading-tertiary  card__caption\">\n                    {randomPokemon.name}\n                  </figcaption>\n                  <button className=\"btn btn--reverse btn--lg\" onClick={saveToFav}>Save to favourites!</button>\n\n                </figure>\n              </div>\n            </div>\n          )\n          }\n        </div>\n      </section>\n\n      <section className=\"section section-favourite\">\n        <div className=\"u-center-text\">\n          <h2 className=\"heading-secondary u-center-margin u-margin-bottom-medium\">Favorites</h2>\n          {\n            favoritePokemons &&\n            favoritePokemons.map((pokemon) => (\n              <div key={pokemon.id} className=\"card u-margin-bottom-medium\">\n                <div className=\"card__container\">\n                  <figure className=\"card__shape\">\n                    <picture>\n                      <img\n                        alt={pokemon.name} className=\"card__img\"\n                        loading=\"lazy\"\n                        src={pokemon.sprite}\n                      />\n                    </picture>\n\n                    <figcaption className=\"heading-tertiary  card__caption\">\n                      {pokemon.name}\n                    </figcaption>\n                  </figure>\n                </div>\n              </div>\n            ))\n          }\n          <button className=\"btn btn--reverse btn--lg\" onClick={clearFavs}>Clear Favorites</button>\n        </div>\n      </section>\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}