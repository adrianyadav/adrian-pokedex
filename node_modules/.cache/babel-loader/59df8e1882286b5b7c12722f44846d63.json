{"ast":null,"code":"import _slicedToArray from\"/Users/adrianyadav/Personal/pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import{useEffect,useState}from'react';import*as store from'store';import'./sass/App.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),randomPokemon=_useState2[0],setRandomPokemon=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),favoritePokemons=_useState4[0],setFavouritePokemons=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),refreshScreen=_useState6[0],setRefreshScreen=_useState6[1];var pokemonBaseUrl='https://pokeapi.co/api/v2/pokemon/';var localStorageKey='favourites';// Max count from documentation\n// https://pokeapi.co/api/v2/pokemon\nvar maxPokemonCount=898;var getRandomPokemon=function getRandomPokemon(e){e.preventDefault();var randomNumber=Math.floor(Math.random()*maxPokemonCount);var url=pokemonBaseUrl+randomNumber;axios.get(url).then(function(pokemon){setRandomPokemon({id:pokemon.data.id,name:pokemon.data.name,sprite:pokemon.data.sprites.front_default});});};var saveToFav=function saveToFav(e){e.preventDefault();if(randomPokemon){// get data from local storage\nvar temp=store.get(localStorageKey);console.log(temp);// if we have pokemons already saved\nif(temp!=null){// if randomly selected pokemon is not included on the list of pokemons in local storage\nif(!temp.some(function(pokemon){return pokemon.id===randomPokemon.id;})){// store the new array (temp) of pokemons to local storage\ntemp.push(randomPokemon);store.set(localStorageKey,temp);}else{alert(\"This pokemon is already in your favourites!\");}}else{// no saved pokemon, create the array and save\ntemp=[];temp.push(randomPokemon);store.set(localStorageKey,temp);}// Screen refresher because favourites are added on localstorage,\n// it doesn't cause the component to reload so force reload it\nsetRefreshScreen(!refreshScreen);}};useEffect(function(){setFavouritePokemons(store.get(localStorageKey));},[refreshScreen]);var clearFavs=function clearFavs(){store.clearAll();alert(\"Deleted all your favourite pokemons.\");// Screen refresher because favorites are added on localstorage,\n// it doesn't cause the component to reload so force reload it\nsetRefreshScreen(!refreshScreen);};var deleteFav=function deleteFav(e){var favPokemons=store.get(localStorageKey);// get the name of the pokemon we wanwt to delete\nvar name=e.target.getAttribute(\"name\");// delete the pokemon from the array\nfavPokemons=favoritePokemons.filter(function(pokemon){return pokemon.name!==name;});// resave the new list to the state\nstore.set(localStorageKey,favPokemons);setRefreshScreen(!refreshScreen);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header__text-box\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading-primary\",children:\"Adrian's Pokedex App\"}),/*#__PURE__*/_jsx(\"p\",{className:\"heading-text\",children:\"You can use this to look at some random pokemon and save your favourites!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--lg\",onClick:getRandomPokemon,children:\"Get Random Pokemon\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"u-center-text\",children:randomPokemon&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading-tertiary u-center-margin u-margin-bottom-medium\",children:\"Your random pokemon is:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__container\",children:[/*#__PURE__*/_jsxs(\"figure\",{className:\"card__shape\",children:[/*#__PURE__*/_jsx(\"picture\",{children:/*#__PURE__*/_jsx(\"img\",{alt:randomPokemon.name,className:\"card__img\",loading:\"lazy\",src:randomPokemon.sprite})}),/*#__PURE__*/_jsx(\"figcaption\",{className:\"heading-secondary  card__caption\",children:randomPokemon.name})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--reverse btn--lg\",onClick:saveToFav,children:\"Save to favourites!\"})]})]})})}),/*#__PURE__*/_jsx(\"section\",{className:\"section section-favourite\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"u-center-text\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading-secondary u-center-margin u-margin-bottom-medium\",children:\"Favorites\"}),/*#__PURE__*/_jsx(\"div\",{class:\"cards\",children:favoritePokemons&&favoritePokemons.map(function(pokemon){return/*#__PURE__*/_jsx(\"div\",{className:\"card card--single u-margin-bottom-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card__container\",children:[/*#__PURE__*/_jsxs(\"figure\",{className:\"card__shape\",children:[/*#__PURE__*/_jsx(\"picture\",{children:/*#__PURE__*/_jsx(\"img\",{alt:pokemon.name,className:\"card__img\",loading:\"lazy\",src:pokemon.sprite})}),/*#__PURE__*/_jsx(\"figcaption\",{className:\"heading-tertiary  card__caption\",children:pokemon.name})]}),/*#__PURE__*/_jsx(\"button\",{name:pokemon.name,className:\"btn btn--reverse btn--lg\",onClick:deleteFav,children:\"Delete favourite\"})]})},pokemon.id);})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn--reverse btn--lg\",onClick:clearFavs,children:\"Clear Favorites\"})]})})]});}export default App;","map":{"version":3,"sources":["/Users/adrianyadav/Personal/pokedex/src/App.js"],"names":["axios","useEffect","useState","store","App","randomPokemon","setRandomPokemon","favoritePokemons","setFavouritePokemons","refreshScreen","setRefreshScreen","pokemonBaseUrl","localStorageKey","maxPokemonCount","getRandomPokemon","e","preventDefault","randomNumber","Math","floor","random","url","get","then","pokemon","id","data","name","sprite","sprites","front_default","saveToFav","temp","console","log","some","push","set","alert","clearFavs","clearAll","deleteFav","favPokemons","target","getAttribute","filter","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport * as store from 'store';\nimport './sass/App.scss';\n\nfunction App() {\n  const [randomPokemon, setRandomPokemon] = useState(null);\n  const [favoritePokemons, setFavouritePokemons] = useState(null);\n  const [refreshScreen, setRefreshScreen] = useState(false);\n  const pokemonBaseUrl = 'https://pokeapi.co/api/v2/pokemon/';\n  const localStorageKey = 'favourites';\n\n  // Max count from documentation\n  // https://pokeapi.co/api/v2/pokemon\n  const maxPokemonCount = 898;\n\n  const getRandomPokemon = (e) => {\n    e.preventDefault();\n\n    const randomNumber = Math.floor(Math.random() * maxPokemonCount);\n    const url = pokemonBaseUrl + randomNumber;\n\n    axios.get(url).then((pokemon) => {\n      setRandomPokemon({\n        id: pokemon.data.id,\n        name: pokemon.data.name,\n        sprite: pokemon.data.sprites.front_default,\n      });\n    });\n  };\n\n  const saveToFav = (e) => {\n    e.preventDefault();\n\n    if (randomPokemon) {\n      // get data from local storage\n      let temp = store.get(localStorageKey);\n      console.log(temp);\n\n      // if we have pokemons already saved\n      if (temp != null) {\n        // if randomly selected pokemon is not included on the list of pokemons in local storage\n        if (!temp.some((pokemon) => pokemon.id === randomPokemon.id)) {\n          // store the new array (temp) of pokemons to local storage\n          temp.push(randomPokemon);\n          store.set(localStorageKey, temp);\n        } else {\n          alert(\"This pokemon is already in your favourites!\");\n        }\n      } else {\n        // no saved pokemon, create the array and save\n        temp = [];\n        temp.push(randomPokemon);\n        store.set(localStorageKey, temp);\n      }\n\n      // Screen refresher because favourites are added on localstorage,\n      // it doesn't cause the component to reload so force reload it\n      setRefreshScreen(!refreshScreen);\n    }\n  };\n\n  useEffect(() => {\n    setFavouritePokemons(store.get(localStorageKey));\n  }, [refreshScreen]);\n\n  const clearFavs = () => {\n    store.clearAll();\n    alert(\"Deleted all your favourite pokemons.\");\n\n    // Screen refresher because favorites are added on localstorage,\n    // it doesn't cause the component to reload so force reload it\n    setRefreshScreen(!refreshScreen);\n  };\n\n  const deleteFav = (e) => {\n    let favPokemons = store.get(localStorageKey);\n    // get the name of the pokemon we wanwt to delete\n    const name = e.target.getAttribute(\"name\");\n    // delete the pokemon from the array\n    favPokemons = (favoritePokemons.filter(pokemon => pokemon.name !== name));\n    // resave the new list to the state\n    store.set(localStorageKey, favPokemons);\n    setRefreshScreen(!refreshScreen);\n  };\n\n  \n\n  return (\n    <div>\n      <header className=\"header\">\n        <div className=\"header__text-box\">\n          <h1 className=\"heading-primary\">\n            Adrian's Pokedex App\n          </h1>\n          <p className=\"heading-text\">\n            You can use this to look at some random pokemon and save your favourites!\n          </p>\n          <button className=\"btn btn--lg\" onClick={getRandomPokemon}>Get Random Pokemon</button>\n        </div>\n      </header>\n      <section className=\"section\">\n        <div className=\"u-center-text\">\n          {randomPokemon && (\n            <div className=\"card\">\n              <h2 className=\"heading-tertiary u-center-margin u-margin-bottom-medium\">Your random pokemon is:</h2>\n              <div className=\"card__container\">\n                <figure className=\"card__shape\">\n                  <picture>\n                    <img\n                      alt={randomPokemon.name} className=\"card__img\"\n                      loading=\"lazy\"\n                      src={randomPokemon.sprite}\n                    />\n                  </picture>\n\n                  <figcaption className=\"heading-secondary  card__caption\">\n                    {randomPokemon.name}\n                  </figcaption>\n                </figure>\n                <button className=\"btn btn--reverse btn--lg\" onClick={saveToFav}>Save to favourites!</button>\n              </div>\n            </div>\n          )\n          }\n        </div>\n      </section>\n\n      <section className=\"section section-favourite\">\n        <div className=\"u-center-text\">\n          <h2 className=\"heading-secondary u-center-margin u-margin-bottom-medium\">Favorites</h2>\n          <div class=\"cards\">\n            {\n              favoritePokemons &&\n              favoritePokemons.map((pokemon) => (\n                <div key={pokemon.id} className=\"card card--single u-margin-bottom-medium\">\n                  <div className=\"card__container\">\n                    <figure className=\"card__shape\">\n                      <picture>\n                        <img\n                          alt={pokemon.name} className=\"card__img\"\n                          loading=\"lazy\"\n                          src={pokemon.sprite}\n                        />\n                      </picture>\n\n                      <figcaption className=\"heading-tertiary  card__caption\">\n                        {pokemon.name}\n                      </figcaption>\n                    </figure>\n                    <button name={pokemon.name} className=\"btn btn--reverse btn--lg\" onClick={deleteFav}>Delete favourite</button>\n                  </div>\n                </div>\n              ))\n            }\n         \n          </div>\n          <button className=\"btn btn--reverse btn--lg\" onClick={clearFavs}>Clear Favorites</button>\n        </div>\n      </section>\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}